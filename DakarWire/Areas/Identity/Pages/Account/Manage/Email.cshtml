@page
@model EmailModel
@{
    ViewData["Title"] = "Manage Email";
    ViewData["ActivePage"] = ManageNavPages.Email;
}

<h3 class="mb-3 subtitle">@ViewData["Title"]</h3>
<partial name="_StatusMessage" for="StatusMessage" />
<div class="row">
    <div class="col-md-6">
        <form id="email-form" method="post">
            <div asp-validation-summary="All" class="text-red-500"></div>

            @if (Model.IsEmailConfirmed)
            {
                
                <div class=" mb-3">
                    <label asp-for="Email" class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"></label>
                    <div class="relative mb-6">
                        <input asp-for="Email" disabled class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="name@flowbite.com">
                        <div class="flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none">✓</div>
                    </div>
                </div>
            }
            else
            {
                <label asp-for="Email" class="block mb-2 text-sm font-medium text-gray-900">Enter your email</label>
                <div class="flex items-center gap-4">
                        <input asp-for="Email" 
                        class=" border border-blue-500 px-3  rounded-lg focus:ring-blue-500 bg-gray-50 text-sm outline-none border-none focus:border-0 block w-full pl-6 p-2.5 " placeholder="Your email address..." />  
                    <button id="email-verification" type="submit" asp-page-handler="SendVerificationEmail" class="cursor-pointer whitespace-nowrap text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2.5 text-center">Send verification email</button>     
                </div>                
            }
            
            <div class="mb-3">   
                <div class="relative">
                    <input type="text" asp-for="Input.NewEmail" autocomplete="email" aria-required="true"
                     class="block px-2.5 pb-2 pt-3 w-full text-sm text-gray-900 bg-transparent rounded-lg border-1 border-blue-600 appearance-none dark:text-white dark:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" " />
                    <label asp-for="Input.NewEmail"  class="absolute text-sm text-blue-600 dark:text-blue-500 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white dark:bg-gray-900 px-2 peer-focus:px-2 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 left-1"></label>
                </div>
                <span asp-validation-for="Input.NewEmail" class="mt-2 text-xs text-red-600 dark:text-red-400"></span>    
            </div>

            <button id="change-email-button" type="submit" asp-page-handler="ChangeEmail" 
            class="mb-3 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 md:px-5 md:py-2.5 mr-1 md:mr-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800">Change email</button>

           </form>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
